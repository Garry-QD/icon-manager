# Icon Manager (å›¾æ ‡ç®¡ç†å™¨)

è¿™æ˜¯ä¸€ä¸ªåŸºäº [Astro](https://astro.build) æ„å»ºçš„é™æ€å›¾æ ‡ç®¡ç†å·¥å…·ï¼Œä¸“ä¸ºéƒ¨ç½²åœ¨é˜¿é‡Œäº‘ ESA (Edge Security Acceleration) è¾¹ç¼˜èŠ‚ç‚¹è®¾è®¡ã€‚å®ƒæä¾›äº†ä¸€ä¸ªè½»é‡ã€é«˜æ€§èƒ½çš„ç•Œé¢æ¥æµè§ˆã€æœç´¢å’Œç®¡ç†å¤§é‡å›¾æ ‡èµ„æºï¼Œå¹¶æä¾›æ ‡å‡†çš„ JSON API ä¾›å¤–éƒ¨è°ƒç”¨ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- **âš¡ï¸ æé€Ÿè®¿é—®**ï¼šçº¯é™æ€æ„å»º (Static Site Generation)ï¼Œé…åˆè¾¹ç¼˜èŠ‚ç‚¹åˆ†å‘ï¼ŒåŠ è½½é€Ÿåº¦æå¿«ã€‚
- **ğŸ” å®æ—¶æœç´¢**ï¼šæ”¯æŒæŒ‰å›¾æ ‡è‹±æ–‡åã€ä¸­æ–‡åã€åŸŸåè¿›è¡Œå®æ—¶è¿‡æ»¤ã€‚
- **ğŸ“¦ é›¶ä¾èµ–**ï¼šå›¾æ ‡æ•°æ®ç›´æ¥ä»æ–‡ä»¶ç³»ç»Ÿè¯»å–ï¼Œæ— éœ€æ•°æ®åº“ã€‚
- **ğŸ”Œ å¼€æ”¾ API**ï¼šè‡ªåŠ¨ç”Ÿæˆ `/icons.json` æ¥å£ï¼Œå…è®¸å…¶ä»–é¡¹ç›®ç›´æ¥è·å–å…¨é‡å›¾æ ‡æ•°æ®ã€‚
- **ğŸ’ æ‡’åŠ è½½**ï¼šåŸç”Ÿå›¾ç‰‡æ‡’åŠ è½½æ”¯æŒï¼Œä¼˜åŒ–å¤§é‡å›¾ç‰‡çš„æµè§ˆä½“éªŒã€‚
- **ğŸ›  å¼€å‘è€…å‹å¥½**ï¼šæä¾›å¤åˆ¶è·¯å¾„å’Œç›´æ¥ä¸‹è½½åŠŸèƒ½ã€‚

## ğŸ“‚ å›¾æ ‡å‘½åè§„èŒƒ

ä¸ºäº†è®©å·¥å…·æ­£ç¡®è§£æå›¾æ ‡ä¿¡æ¯ï¼Œæ–‡ä»¶åå¿…é¡»éµå¾ªä»¥ä¸‹å‘½åè§„èŒƒï¼ˆä½¿ç”¨åŒè¿å­—ç¬¦ `--` ä½œä¸ºåˆ†éš”ç¬¦ï¼‰ï¼š

```text
è‹±æ–‡å--ä¸­æ–‡å--åŸŸå.æ‰©å±•å
```

**ç¤ºä¾‹ï¼š**
- `Bilibili--å“”å“©å“”å“©--qdnas-s.png`
  - è‹±æ–‡å: Bilibili
  - ä¸­æ–‡å: å“”å“©å“”å“©
  - åŸŸå/å¤‡æ³¨: qdnas-s
- `Aliyun--é˜¿é‡Œäº‘--aliyun.com.png`

> **æ³¨æ„**ï¼šä¸ºäº†ç¡®ä¿ URL å…¼å®¹æ€§ï¼Œè¯·é¿å…åœ¨æ–‡ä»¶åä¸­ä½¿ç”¨ `+`ã€ç©ºæ ¼æˆ–å…¶ä»–ç‰¹æ®Šå­—ç¬¦ã€‚ç³»ç»Ÿä¼šè‡ªåŠ¨å°†æ–‡ä»¶åè§£æä¸ºç»“æ„åŒ–æ•°æ®ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æœ¬åœ°å¼€å‘

1. **å®‰è£…ä¾èµ–**
   ```bash
   npm install
   ```

2. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
   ```bash
   npm run dev
   ```
   è®¿é—® `http://localhost:4321` æŸ¥çœ‹æ•ˆæœã€‚

### æ„å»ºéƒ¨ç½²

1. **æ„å»ºç”Ÿäº§ç‰ˆæœ¬**
   ```bash
   npm run build
   ```
   æ„å»ºäº§ç‰©å°†è¾“å‡ºåˆ° `dist/` ç›®å½•ã€‚

2. **éƒ¨ç½²åˆ°é˜¿é‡Œäº‘ ESA**
   æœ¬é¡¹ç›®å·²é…ç½® `esa.jsonc`ï¼Œå¯ç›´æ¥é€šè¿‡é˜¿é‡Œäº‘ ESA CLI å·¥å…·è¿›è¡Œéƒ¨ç½²ï¼Œæˆ–å°† `dist/` ç›®å½•å†…å®¹ä¸Šä¼ è‡³ ESA è¾¹ç¼˜å­˜å‚¨ã€‚

## ğŸ”Œ API æ¥å£

æœ¬é¡¹ç›®æä¾›ä¸€ä¸ªåªè¯»çš„ JSON æ¥å£ï¼ŒåŒ…å«æ‰€æœ‰å›¾æ ‡çš„å…ƒæ•°æ®ã€‚

- **Endpoint**: `/icons.json`
- **Method**: `GET`
- **Content-Type**: `application/json`
- **CORS**: å…è®¸è·¨åŸŸ (`Access-Control-Allow-Origin: *`)

**å“åº”ç¤ºä¾‹ï¼š**

```json
[
  {
    "name": "Bilibili",
    "cnName": "å“”å“©å“”å“©",
    "domain": "qdnas-s",
    "filename": "Bilibili_A--å“”å“©å“”å“©--qdnas-s.png",
    "url": "/icon/Bilibili_A--å“”å“©å“”å“©--qdnas-s.png",
    "downloadUrl": "/icon/Bilibili_A--å“”å“©å“”å“©--qdnas-s.png"
  },
  // ...
]
```

**åœ¨å¤–éƒ¨é¡¹ç›®ä¸­ä½¿ç”¨ï¼š**

```javascript
// ç¤ºä¾‹ï¼šè·å–å›¾æ ‡åˆ—è¡¨
const res = await fetch('https://your-domain.com/icons.json');
const icons = await res.json();
console.log(icons);
```

## ğŸ“ é¡¹ç›®ç»“æ„

```text
.
â”œâ”€â”€ public/
â”‚   â””â”€â”€ icon/          # å­˜æ”¾æ‰€æœ‰å›¾æ ‡æ–‡ä»¶
â”œâ”€â”€ src/
â”‚   â””â”€â”€ pages/
â”‚       â”œâ”€â”€ index.astro    # ä¸»é¡µï¼ˆUIç•Œé¢ï¼‰
â”‚       â””â”€â”€ icons.json.ts  # API ç”Ÿæˆé€»è¾‘
â”œâ”€â”€ astro.config.mjs   # Astro é…ç½®æ–‡ä»¶
â”œâ”€â”€ esa.jsonc          # é˜¿é‡Œäº‘ ESA éƒ¨ç½²é…ç½®
â””â”€â”€ package.json
```

## ğŸ“„ License

MIT
